{
  "call_date": "2024-06-17",
  "qa_pairs": [
    {
      "qa_id": 1,
      "timestamp": "03:21",
      "question": "What is a hash preimage and why is it used in atomic swaps?",
      "asker": "deathgripson",
      "answer": "A hash preimage is simply the input to a hash function - for example, if you run SHA-256 on the number one, the preimage would be one. Hash algorithms like SHA-256 are built to be preimage attack resistant, making it very difficult for computers to guess the input. This difficulty makes preimages secure secrets for atomic swap protocols, as they can be safely used in time lock contracts where the expected lock time is shorter than the time it would take to break the preimage.",
      "responder": "deathgripson",
      "category": "technical",
      "difficulty": "intermediate",
      "related_terms": [
        "atomic swaps",
        "SHA-256",
        "preimage",
        "HTLC",
        "hash functions"
      ]
    },
    {
      "qa_id": 2,
      "timestamp": "05:17",
      "question": "How does Lightning Network use hash preimages in its invoice system?",
      "asker": "deathgripson",
      "answer": "Lightning uses hash preimages in their invoices through a process where an invoice is generated by the payee and automatically generates a SHA-256 preimage. The public payment request includes information like the expected amount and the preimage hash. When the payer successfully pays the invoice to the payee's lightning node, the payer receives the preimage that was originally secret, which can then be used as a secret in atomic swaps.",
      "responder": "deathgripson",
      "category": "technical",
      "difficulty": "intermediate",
      "related_terms": [
        "Lightning Network",
        "invoices",
        "payment request",
        "preimage",
        "atomic swaps"
      ]
    },
    {
      "qa_id": 3,
      "timestamp": "02:25",
      "question": "What's the difference between PTLCs and HTLCs in atomic swap contracts?",
      "asker": "deathgripson",
      "answer": "PTLCs (Point Time Lock Contracts) are point-based swaps that use curve points for coordination, while HTLCs (Hash Time Lock Contracts) are hash-based swaps that use hash preimages. The team modified their existing atomic swap contract from checking curve points (PTLCs) to checking hash preimages (HTLCs) to work with Lightning Network's native hash preimage system.",
      "responder": "deathgripson",
      "category": "technical",
      "difficulty": "advanced",
      "related_terms": [
        "PTLC",
        "HTLC",
        "atomic swaps",
        "curve points",
        "hash preimages"
      ]
    },
    {
      "qa_id": 4,
      "timestamp": "06:36",
      "question": "What modifications are needed to convert an ErgoScript point-based atomic swap contract to hash-based?",
      "asker": "deathgripson",
      "answer": "To modify ErgoScript for hash-based swaps, you need to remove the curve generator variable and the check for point-based elements. Replace getting registers 4 through 7 with only register 4 as a collection of bytes. In the sigma prop, check that the SHA-256 of register 4 equals the from base 16 conversion of the preimage hash string, which converts a hexadecimal string into bytes for comparison.",
      "responder": "deathgripson",
      "category": "technical",
      "difficulty": "advanced",
      "related_terms": [
        "ErgoScript",
        "atomic swaps",
        "SHA-256",
        "registers",
        "sigma prop"
      ]
    },
    {
      "qa_id": 5,
      "timestamp": "08:14",
      "question": "How does the Ergo-Lightning atomic swap process work step by step?",
      "asker": "deathgripson",
      "answer": "The process involves: 1) Making a lightning invoice on one regtest node, 2) Sending the payment request to the second node, 3) The payment request contains the preimage hash which can be verified against the ErgoScript contract, 4) The person generating the preimage deploys an ErgoScript contract with the same hash locking up funds, 5) The receiver verifies the hash preimage is locking funds on both the lightning invoice and ErgoScript contract, 6) After verifying amounts, they pay the invoice and receive the preimage, 7) They can then claim the Ergo using the received preimage.",
      "responder": "deathgripson",
      "category": "technical",
      "difficulty": "intermediate",
      "related_terms": [
        "atomic swaps",
        "Lightning Network",
        "ErgoScript",
        "preimage",
        "payment request"
      ]
    }
  ]
}